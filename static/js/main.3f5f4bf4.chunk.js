(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{23:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(13),s=c.n(r),i=(c(23),c(9)),o=c(8),u=c(2),l=c(16),d=c(3),j=c.n(d),h=c(4),b=c(6),p="http://127.0.0.1:3003/goods",m=function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return t=e.sent,e.abrupt("return",t.sort((function(e,t){return+t.count-+e.count})).sort((function(e,t){return e.name[0].localeCompare(t.name[0])})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(h.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p,"/").concat(t));case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function f(e,t,c,n,a,r,s){return v.apply(this,arguments)}function v(){return(v=Object(h.a)(j.a.mark((function e(t,c,n,a,r,s,i){var o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({id:t,imageUrl:c,name:n,count:a,size:{width:r,height:s},weight:i,comments:[]})});case 2:return o=e.sent,e.abrupt("return",o.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,c,n,a,r,s){return g.apply(this,arguments)}function g(){return(g=Object(h.a)(j.a.mark((function e(t,c,n,a,r,s,i){var o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p,"/").concat(t),{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({id:t,imageUrl:c,name:n,count:a,size:{width:r,height:s},weight:i,comments:[]})});case 2:return o=e.sent,e.abrupt("return",o.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return w.apply(this,arguments)}function w(){return(w=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(p,"/").concat(t),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C="LOAD GOODS",_="LOAD GOOD",k=function(e){return{type:C,payload:e}},U=function(e){return{type:_,payload:e}},G=function(e){return e.goods},L=function(e){return e.product},S=c(11),q=c(7),P=c(0),A=function(e){var t=e.productId,c=Object(o.b)(),a=Object(n.useState)(!1),r=Object(b.a)(a,2),s=r[0],i=r[1],u=Object(n.useState)({imageUrl:"",name:"",count:"",width:"",height:"",weight:""}),l=Object(b.a)(u,2),d=l[0],p=l[1],m=function(e){var t=e.target.name,c=e.target.value;p(Object(q.a)(Object(q.a)({},d),{},Object(S.a)({},t,c)))},x=function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,c(k(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){p({imageUrl:"",name:"",count:"",width:"",height:"",weight:""})},N=function(){var e=Object(h.a)(j.a.mark((function e(c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,f(t,d.imageUrl,d.name,d.count,d.width,d.height,d.weight);case 3:x(),i(!1),v();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{children:[Object(P.jsx)("button",{type:"button",className:"button",onClick:function(){return i(!0)},children:"Add product"}),s&&Object(P.jsx)("form",{onSubmit:N,children:Object(P.jsxs)("div",{className:"modal is-active",children:[Object(P.jsx)("div",{className:"modal-background"}),Object(P.jsxs)("div",{className:"modal-card",children:[Object(P.jsx)("header",{className:"modal-card-head",children:Object(P.jsx)("p",{className:"modal-card-title",children:"Add good"})}),Object(P.jsxs)("section",{className:"modal-card-body",children:[Object(P.jsx)("div",{className:"field",children:Object(P.jsx)("div",{className:"control",children:Object(P.jsx)("input",{className:"input",type:"text",placeholder:"Photo url",name:"imageUrl",value:d.imageUrl,onChange:m,required:!0})})}),Object(P.jsx)("div",{className:"field",children:Object(P.jsx)("div",{className:"control",children:Object(P.jsx)("input",{className:"input",type:"text",placeholder:"Title",name:"name",value:d.name,onChange:m,required:!0})})}),Object(P.jsx)("div",{className:"field",children:Object(P.jsx)("div",{className:"control",children:Object(P.jsx)("input",{className:"input",type:"text",placeholder:"Count",name:"count",value:d.count,onChange:m,required:!0})})}),Object(P.jsx)("div",{className:"field",children:Object(P.jsx)("div",{className:"control",children:Object(P.jsx)("input",{className:"input",type:"text",placeholder:"Width",name:"width",value:d.width,onChange:m,required:!0})})}),Object(P.jsx)("div",{className:"field",children:Object(P.jsx)("div",{className:"control",children:Object(P.jsx)("input",{className:"input",type:"text",placeholder:"Height",name:"height",value:d.height,onChange:m,required:!0})})}),Object(P.jsx)("div",{className:"field",children:Object(P.jsx)("div",{className:"control",children:Object(P.jsx)("input",{className:"input",type:"text",placeholder:"Weight",name:"weight",value:d.weight,onChange:m,required:!0})})})]}),Object(P.jsxs)("footer",{className:"modal-card-foot",children:[Object(P.jsx)("button",{className:"button is-success",type:"submit",children:"Confirm"}),Object(P.jsx)("button",{className:"button",type:"button",onClick:function(){v(),i(!1)},children:"Cancel"})]})]})]})})]})},D=(c(32),function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(0),s=Object(b.a)(r,2),u=s[0],d=s[1],p=Object(o.b)(),m=Object(o.c)(G),f=function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,p(k(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(u);case 2:a(!1),f();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(h.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:c=e.sent,p(U(c));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){f()}),[]),Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{className:"GoodsList",children:[Object(P.jsx)("h2",{className:"GoodsList__title",children:"Goods:"}),Object(P.jsxs)("div",{className:"GoodsList__list-container",children:[Object(P.jsx)("div",{className:"select GoodsList__select",children:Object(P.jsxs)("select",{id:"sortBy",onChange:function(e){switch(e.target.value){case"alphabet":p(k(Object(l.a)(m).sort((function(e,t){return e.name[0].localeCompare(t.name[0])}))));break;case"count":p(k(Object(l.a)(m).sort((function(e,t){return+t.count-+e.count}))));break;default:p(k(m))}},children:[Object(P.jsx)("option",{value:"",children:"Sort by:"}),Object(P.jsx)("option",{value:"alphabet",children:"Alphabet"}),Object(P.jsx)("option",{value:"count",children:"Count"})]})}),Object(P.jsx)("ul",{className:"GoodsList__list",children:m.map((function(e){return Object(P.jsxs)("li",{className:"GoodsList__item",children:[Object(P.jsx)("img",{src:e.imageUrl,alt:"placeholder"}),Object(P.jsx)("h3",{className:"GoodsList__product-title",children:e.name}),Object(P.jsxs)("span",{className:"GoodsList__product-count",children:["Count:\xa0",e.count]}),Object(P.jsxs)("div",{className:"GoodsList__buttons buttons",children:[Object(P.jsx)(i.b,{to:"product",type:"button",className:"GoodsList__user-button button",onClick:function(){return N(e.id)},children:"More"}),Object(P.jsx)("button",{type:"button",className:"GoodsList__user-button button",onClick:function(){return t=e.id,a(!0),void d(t);var t},children:"Delete"})]})]},e.id)}))})]})]}),c&&Object(P.jsxs)("div",{className:"modal is-active",children:[Object(P.jsx)("div",{className:"modal-background"}),Object(P.jsxs)("div",{className:"modal-card",children:[Object(P.jsx)("header",{className:"modal-card-head",children:Object(P.jsx)("p",{className:"modal-card-title",children:"Delete product?"})}),Object(P.jsxs)("footer",{className:"modal-card-foot",children:[Object(P.jsx)("button",{className:"button is-success",type:"submit",onClick:v,children:"Confirm"}),Object(P.jsx)("button",{className:"button",type:"button",onClick:function(){return a(!1)},children:"Cancel"})]})]})]}),Object(P.jsx)(A,{productId:+m[m.length]})]})}),E=function(){var e=Object(o.b)(),t=Object(o.c)(L),c=Object(n.useState)(!1),a=Object(b.a)(c,2),r=a[0],s=a[1],i=Object(n.useState)({imageUrl:"",name:"",count:"",width:"",height:"",weight:""}),u=Object(b.a)(i,2),l=u[0],d=u[1],p=function(){var c=Object(h.a)(j.a.mark((function c(){var n;return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(!t){c.next=5;break}return c.next=3,x(t.id);case 3:n=c.sent,e(U(n));case 5:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),m=function(e){var t=e.target.name,c=e.target.value;d(Object(q.a)(Object(q.a)({},l),{},Object(S.a)({},t,c)))},O=function(){var e=Object(h.a)(j.a.mark((function e(c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),!t){e.next=5;break}return e.next=4,N(t.id,l.imageUrl,l.name,l.count,l.width,l.height,l.weight);case 4:p();case 5:s(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t&&d({imageUrl:t.imageUrl,name:t.name,count:t.count,width:t.size.width,height:t.size.height,weight:t.weight})}),[t]),Object(P.jsxs)("div",{children:[Object(P.jsx)("button",{type:"button",className:"Product__button button",onClick:function(){return s(!0)},children:"Edit"}),r&&Object(P.jsx)("form",{onSubmit:O,children:Object(P.jsxs)("div",{className:"modal is-active",children:[Object(P.jsx)("div",{className:"modal-background"}),Object(P.jsxs)("div",{className:"modal-card",children:[Object(P.jsx)("header",{className:"modal-card-head",children:Object(P.jsx)("p",{className:"modal-card-title",children:"Edit product"})}),Object(P.jsxs)("section",{className:"modal-card-body",children:[Object(P.jsx)("div",{className:"field",children:Object(P.jsx)("div",{className:"control",children:Object(P.jsx)("input",{className:"input",type:"text",placeholder:"Photo url",name:"imageUrl",value:l.imageUrl,onChange:m,required:!0})})}),Object(P.jsx)("div",{className:"field",children:Object(P.jsx)("div",{className:"control",children:Object(P.jsx)("input",{className:"input",type:"text",placeholder:"Title",name:"name",value:l.name,onChange:m,required:!0})})}),Object(P.jsx)("div",{className:"field",children:Object(P.jsx)("div",{className:"control",children:Object(P.jsx)("input",{className:"input",type:"text",placeholder:"Count",name:"count",value:l.count,onChange:m,required:!0})})}),Object(P.jsx)("div",{className:"field",children:Object(P.jsx)("div",{className:"control",children:Object(P.jsx)("input",{className:"input",type:"text",placeholder:"Width",name:"width",value:l.width,onChange:m,required:!0})})}),Object(P.jsx)("div",{className:"field",children:Object(P.jsx)("div",{className:"control",children:Object(P.jsx)("input",{className:"input",type:"text",placeholder:"Height",name:"height",value:l.height,onChange:m,required:!0})})}),Object(P.jsx)("div",{className:"field",children:Object(P.jsx)("div",{className:"control",children:Object(P.jsx)("input",{className:"input",type:"text",placeholder:"Weight",name:"weight",value:l.weight,onChange:m,required:!0})})})]}),Object(P.jsxs)("footer",{className:"modal-card-foot",children:[Object(P.jsx)("button",{className:"button is-success",type:"submit",children:"Confirm"}),Object(P.jsx)("button",{className:"button",type:"button",onClick:function(){return s(!1)},children:"Cancel"})]})]})]})})]})},T=(c(33),function(){var e=Object(o.c)(L);return Object(P.jsx)(P.Fragment,{children:e&&Object(P.jsxs)("div",{className:"Product",children:[Object(P.jsx)("img",{className:"Product__photo",src:null===e||void 0===e?void 0:e.imageUrl,alt:"placeholder"}),Object(P.jsx)("h3",{className:"Product__name",children:e.name}),Object(P.jsxs)("p",{className:"Product__info",children:["Count: ".concat(e.count,"\n"),"Width: ".concat(e.size.width,"\n"),"Height: ".concat(e.size.height,"\n"),"Weight: ".concat(e.weight,"\n")]}),Object(P.jsxs)("div",{className:"Product__buttons",children:[Object(P.jsx)(i.b,{to:"/",type:"button",className:"Product__button button",children:"Back"}),Object(P.jsx)(E,{})]})]})})}),z=(c(34),function(){return Object(P.jsx)("div",{className:"App",children:Object(P.jsx)("div",{className:"App__content",children:Object(P.jsx)("div",{className:"App__content-container",children:Object(P.jsxs)(u.c,{children:[Object(P.jsx)(u.a,{path:"/",element:Object(P.jsx)(D,{})}),Object(P.jsx)(u.a,{path:"product",element:Object(P.jsx)(T,{})})]})})})})}),W=c(18),H={goods:[],product:null},J=Object(W.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(q.a)(Object(q.a)({},e),{},{goods:t.payload});case _:return Object(q.a)(Object(q.a)({},e),{},{product:t.payload});default:return e}}));s.a.render(Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(o.a,{store:J,children:Object(P.jsx)(i.a,{children:Object(P.jsx)(z,{})})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.3f5f4bf4.chunk.js.map