(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{23:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(13),s=n.n(r),i=(n(23),n(9)),o=n(8),u=n(3),l=n(16),d=n(2),j=n.n(d),h=n(4),b=n(5),p="http://127.0.0.1:3003/goods",m=function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return t=e.sent,e.abrupt("return",t.sort((function(e,t){return+t.count-+e.count})).sort((function(e,t){return e.name[0].localeCompare(t.name[0])})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function x(e){return v.apply(this,arguments)}function v(){return(v=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return g.apply(this,arguments)}function g(){return(g=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(p,"/").concat(t.id),{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return(y=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(p,"/").concat(t),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k="LOAD GOODS",_="LOAD GOOD",C=function(e){return{type:k,payload:e}},S=function(e){return{type:_,payload:e}},U=function(e){return e.goods},P=function(e){return e.product},L=n(11),G=n(7),q=n(0),E=function(){var e=Object(o.b)(),t=Object(c.useState)(!1),n=Object(b.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)({imageUrl:"",name:"",count:"",width:"",height:"",weight:""}),i=Object(b.a)(s,2),u=i[0],l=i[1],d=function(e){var t=e.target.name,n=e.target.value;l(Object(G.a)(Object(G.a)({},u),{},Object(L.a)({},t,n)))},p=function(){var t=Object(h.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:n=t.sent,e(C(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){l({imageUrl:"",name:"",count:"",width:"",height:"",weight:""})},O=function(){var e=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={imageUrl:u.imageUrl,name:u.name,count:u.count,size:{width:u.width,height:u.height},weight:u.weight,comments:[]},e.next=4,x(n);case 4:p(),r(!1),m();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(q.jsxs)("div",{children:[Object(q.jsx)("button",{type:"button",className:"button is-success",onClick:function(){return r(!0)},children:"Add product"}),a&&Object(q.jsx)("form",{onSubmit:O,children:Object(q.jsxs)("div",{className:"modal is-active",children:[Object(q.jsx)("div",{className:"modal-background"}),Object(q.jsxs)("div",{className:"modal-card",children:[Object(q.jsx)("header",{className:"modal-card-head",children:Object(q.jsx)("p",{className:"modal-card-title",children:"Add good"})}),Object(q.jsxs)("section",{className:"modal-card-body",children:[Object(q.jsx)("div",{className:"field",children:Object(q.jsx)("div",{className:"control",children:Object(q.jsx)("input",{className:"input",type:"text",placeholder:"Photo url",name:"imageUrl",value:u.imageUrl,onChange:d,required:!0})})}),Object(q.jsx)("div",{className:"field",children:Object(q.jsx)("div",{className:"control",children:Object(q.jsx)("input",{className:"input",type:"text",placeholder:"Title",name:"name",value:u.name,onChange:d,required:!0})})}),Object(q.jsx)("div",{className:"field",children:Object(q.jsx)("div",{className:"control",children:Object(q.jsx)("input",{className:"input",type:"text",placeholder:"Count",name:"count",value:u.count,onChange:d,required:!0})})}),Object(q.jsx)("div",{className:"field",children:Object(q.jsx)("div",{className:"control",children:Object(q.jsx)("input",{className:"input",type:"text",placeholder:"Width",name:"width",value:u.width,onChange:d,required:!0})})}),Object(q.jsx)("div",{className:"field",children:Object(q.jsx)("div",{className:"control",children:Object(q.jsx)("input",{className:"input",type:"text",placeholder:"Height",name:"height",value:u.height,onChange:d,required:!0})})}),Object(q.jsx)("div",{className:"field",children:Object(q.jsx)("div",{className:"control",children:Object(q.jsx)("input",{className:"input",type:"text",placeholder:"Weight",name:"weight",value:u.weight,onChange:d,required:!0})})})]}),Object(q.jsxs)("footer",{className:"modal-card-foot",children:[Object(q.jsx)("button",{className:"button is-success",type:"submit",children:"Confirm"}),Object(q.jsx)("button",{className:"button",type:"button",onClick:function(){m(),r(!1)},children:"Cancel"})]})]})]})})]})},D=(n(32),function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),s=Object(b.a)(r,2),u=s[0],d=s[1],p=Object(o.b)(),m=Object(o.c)(U),x=function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,p(C(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(u);case 2:a(!1),x();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:n=e.sent,p(S(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){x()}),[]),Object(q.jsxs)("div",{children:[Object(q.jsxs)("div",{className:"GoodsList",children:[Object(q.jsx)("h2",{className:"GoodsList__title",children:"Goods:"}),Object(q.jsxs)("div",{className:"GoodsList__list-container",children:[Object(q.jsx)("div",{className:"select GoodsList__select",children:Object(q.jsxs)("select",{id:"sortBy",onChange:function(e){switch(e.target.value){case"alphabet":p(C(Object(l.a)(m).sort((function(e,t){return e.name[0].localeCompare(t.name[0])}))));break;case"count":p(C(Object(l.a)(m).sort((function(e,t){return+t.count-+e.count}))));break;default:p(C(m))}},children:[Object(q.jsx)("option",{value:"",children:"Sort by:"}),Object(q.jsx)("option",{value:"alphabet",children:"Alphabet"}),Object(q.jsx)("option",{value:"count",children:"Count"})]})}),Object(q.jsx)("ul",{className:"GoodsList__list",children:m.map((function(e){return Object(q.jsxs)("li",{className:"GoodsList__item",children:[Object(q.jsx)("img",{src:e.imageUrl,alt:"placeholder"}),Object(q.jsx)("h3",{className:"GoodsList__product-title",children:e.name}),Object(q.jsxs)("span",{className:"GoodsList__product-count",children:["Count:\xa0",e.count]}),Object(q.jsxs)("div",{className:"GoodsList__buttons buttons",children:[Object(q.jsx)(i.b,{to:"".concat(e.id),type:"button",className:"GoodsList__user-button button",onClick:function(){return N(e.id)},children:"More"}),Object(q.jsx)("button",{type:"button",className:"GoodsList__user-button button",onClick:function(){return t=e.id,a(!0),void d(t);var t},children:"Delete"})]})]},e.id)}))})]})]}),n&&Object(q.jsxs)("div",{className:"modal is-active",children:[Object(q.jsx)("div",{className:"modal-background"}),Object(q.jsxs)("div",{className:"modal-card",children:[Object(q.jsx)("header",{className:"modal-card-head",children:Object(q.jsx)("p",{className:"modal-card-title",children:"Delete product?"})}),Object(q.jsxs)("footer",{className:"modal-card-foot",children:[Object(q.jsx)("button",{className:"button is-success",type:"submit",onClick:v,children:"Confirm"}),Object(q.jsx)("button",{className:"button",type:"button",onClick:function(){return a(!1)},children:"Cancel"})]})]})]}),Object(q.jsx)(E,{})]})}),T="http://127.0.0.1:3003/comments",A=function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(T);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:return n=e.sent,e.abrupt("return",n.filter((function(e){return e.productId===t})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(T,"/").concat(t),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function J(e){return F.apply(this,arguments)}function F(){return(F=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(T,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n.ok&&200===n.status);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(){var e=Object(o.b)(),t=Object(o.c)(P),n=Object(c.useState)(!1),a=Object(b.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)({imageUrl:"",name:"",count:"",width:"",height:"",weight:""}),u=Object(b.a)(i,2),l=u[0],d=u[1],p=function(){var n=Object(h.a)(j.a.mark((function n(){var c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=5;break}return n.next=3,O(t.id);case 3:c=n.sent,e(S(c));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),m=function(e){var t=e.target.name,n=e.target.value;d(Object(G.a)(Object(G.a)({},l),{},Object(L.a)({},t,n)))},f=function(){var e=Object(h.a)(j.a.mark((function e(n){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!t){e.next=6;break}return c={id:null===t||void 0===t?void 0:t.id,imageUrl:l.imageUrl,name:l.name,count:l.count,size:{width:l.width,height:l.height},weight:l.weight,comments:[]},e.next=5,N(c);case 5:p();case 6:s(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){t&&d({imageUrl:t.imageUrl,name:t.name,count:t.count,width:t.size.width,height:t.size.height,weight:t.weight})}),[t]),Object(q.jsxs)("div",{children:[Object(q.jsx)("button",{type:"button",className:"Product__button button",onClick:function(){return s(!0)},children:"Edit"}),r&&Object(q.jsx)("form",{onSubmit:f,children:Object(q.jsxs)("div",{className:"modal is-active",children:[Object(q.jsx)("div",{className:"modal-background"}),Object(q.jsxs)("div",{className:"modal-card",children:[Object(q.jsx)("header",{className:"modal-card-head",children:Object(q.jsx)("p",{className:"modal-card-title",children:"Edit product"})}),Object(q.jsxs)("section",{className:"modal-card-body",children:[Object(q.jsx)("div",{className:"field",children:Object(q.jsx)("div",{className:"control",children:Object(q.jsx)("input",{className:"input",type:"text",placeholder:"Photo url",name:"imageUrl",value:l.imageUrl,onChange:m,required:!0})})}),Object(q.jsx)("div",{className:"field",children:Object(q.jsx)("div",{className:"control",children:Object(q.jsx)("input",{className:"input",type:"text",placeholder:"Title",name:"name",value:l.name,onChange:m,required:!0})})}),Object(q.jsx)("div",{className:"field",children:Object(q.jsx)("div",{className:"control",children:Object(q.jsx)("input",{className:"input",type:"text",placeholder:"Count",name:"count",value:l.count,onChange:m,required:!0})})}),Object(q.jsx)("div",{className:"field",children:Object(q.jsx)("div",{className:"control",children:Object(q.jsx)("input",{className:"input",type:"text",placeholder:"Width",name:"width",value:l.width,onChange:m,required:!0})})}),Object(q.jsx)("div",{className:"field",children:Object(q.jsx)("div",{className:"control",children:Object(q.jsx)("input",{className:"input",type:"text",placeholder:"Height",name:"height",value:l.height,onChange:m,required:!0})})}),Object(q.jsx)("div",{className:"field",children:Object(q.jsx)("div",{className:"control",children:Object(q.jsx)("input",{className:"input",type:"text",placeholder:"Weight",name:"weight",value:l.weight,onChange:m,required:!0})})})]}),Object(q.jsxs)("footer",{className:"modal-card-foot",children:[Object(q.jsx)("button",{className:"button is-success",type:"submit",children:"Confirm"}),Object(q.jsx)("button",{className:"button",type:"button",onClick:function(){return s(!1)},children:"Cancel"})]})]})]})})]})},B=(n(33),function(){var e=Object(o.c)(P),t=Object(o.b)(),n=Object(u.g)(),a=Object(c.useState)([]),r=Object(b.a)(a,2),s=r[0],l=r[1],d=Object(c.useState)(""),p=Object(b.a)(d,2),m=p[0],f=p[1],x=function(){var e=Object(h.a)(j.a.mark((function e(){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.id){e.next=5;break}return e.next=3,O(+n.id);case 3:c=e.sent,t(S(c));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.id){e.next=5;break}return e.next=3,z(+n.id);case 3:t=e.sent,l(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(t),l(s.filter((function(e){return e.id!==t})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.id){e.next=4;break}return t={productId:+n.id,description:m,date:Date()},e.next=4,J(t);case 4:v();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){e||x(),v()}),[]),Object(q.jsx)(q.Fragment,{children:e&&Object(q.jsxs)("div",{className:"Product",children:[Object(q.jsx)("img",{className:"Product__photo",src:e.imageUrl,alt:"placeholder"}),Object(q.jsx)("h3",{className:"Product__name",children:e.name}),Object(q.jsxs)("p",{className:"Product__info",children:["Count: ".concat(e.count,"\n"),"Width: ".concat(e.size.width,"\n"),"Height: ".concat(e.size.height,"\n"),"Weight: ".concat(e.weight,"\n")]}),Object(q.jsxs)("div",{className:"Product__comments",children:[Object(q.jsx)("h4",{className:"Product__comments-title",children:"Comments:"}),Object(q.jsx)("ul",{children:s.map((function(e){return Object(q.jsxs)("li",{children:[e.description,"\xa0",Object(q.jsx)("button",{type:"button",className:"Product__comment-delete button is-light",onClick:function(){return N(e.id)},children:"X"})]},e.id)}))}),Object(q.jsx)("textarea",{className:"textarea",placeholder:"Your comment",value:m,onChange:function(e){return f(e.target.value)}})]}),Object(q.jsxs)("div",{className:"Product__buttons",children:[Object(q.jsx)(i.b,{to:"/",type:"button",className:"Product__button button",children:"Back"}),Object(q.jsx)("button",{type:"button",className:"Product__button button is-success",onClick:g,children:"Comment"}),Object(q.jsx)(H,{})]})]})})}),I=(n(34),function(){return Object(q.jsx)("div",{className:"App",children:Object(q.jsx)("div",{className:"App__content",children:Object(q.jsx)("div",{className:"App__content-container",children:Object(q.jsxs)(u.c,{children:[Object(q.jsx)(u.a,{path:"/",element:Object(q.jsx)(D,{})}),Object(q.jsx)(u.a,{path:"/:id",element:Object(q.jsx)(B,{})})]})})})})}),M=n(18),X={goods:[],product:null},Y=Object(M.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(G.a)(Object(G.a)({},e),{},{goods:t.payload});case _:return Object(G.a)(Object(G.a)({},e),{},{product:t.payload});default:return e}}));s.a.render(Object(q.jsx)(a.a.StrictMode,{children:Object(q.jsx)(o.a,{store:Y,children:Object(q.jsx)(i.a,{children:Object(q.jsx)(I,{})})})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.bac7e91d.chunk.js.map