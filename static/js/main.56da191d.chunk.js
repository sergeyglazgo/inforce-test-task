(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{17:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(7),s=c.n(r),i=(c(17),c(6)),o=c(2),l=c.n(o),u=c(4),d=c(5),j="http://127.0.0.1:3003/goods",h=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(j);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function b(e,t,c,n,a,r,s){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(l.a.mark((function e(t,c,n,a,r,s,i){var o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(j,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({id:t,imageUrl:c,name:n,count:a,size:{width:r,height:s},weight:i,comments:[]})});case 2:return o=e.sent,e.abrupt("return",o.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(j,"/").concat(t),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x="LOAD GOODS",f="LOAD GOOD",v=function(e){return e.goods},g=c(8),N=c(3),y=c(0),w=function(e){var t=e.goodId,c=Object(n.useState)(!1),a=Object(d.a)(c,2),r=a[0],s=a[1],i=Object(n.useState)({imageUrl:"",name:"",count:"",width:"",height:"",weight:""}),o=Object(d.a)(i,2),j=o[0],h=o[1],m=function(e){var t=e.target.name,c=e.target.value;h(Object(N.a)(Object(N.a)({},j),{},Object(g.a)({},t,c)))},p=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t,j.imageUrl,j.name,+j.count,+j.width,+j.height,j.weight);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{children:[Object(y.jsx)("button",{type:"button",className:"button",onClick:function(){return s(!0)},children:"Add"}),r&&Object(y.jsx)("form",{onSubmit:p,children:Object(y.jsxs)("div",{className:"modal is-active",children:[Object(y.jsx)("div",{className:"modal-background"}),Object(y.jsxs)("div",{className:"modal-card",children:[Object(y.jsx)("header",{className:"modal-card-head",children:Object(y.jsx)("p",{className:"modal-card-title",children:"Add good"})}),Object(y.jsxs)("section",{className:"modal-card-body",children:[Object(y.jsx)("div",{className:"field",children:Object(y.jsx)("div",{className:"control",children:Object(y.jsx)("input",{className:"input",type:"text",placeholder:"Photo url",name:"imageUrl",value:j.imageUrl,onChange:m,required:!0})})}),Object(y.jsx)("div",{className:"field",children:Object(y.jsx)("div",{className:"control",children:Object(y.jsx)("input",{className:"input",type:"text",placeholder:"Title",name:"name",value:j.name,onChange:m,required:!0})})}),Object(y.jsx)("div",{className:"field",children:Object(y.jsx)("div",{className:"control",children:Object(y.jsx)("input",{className:"input",type:"text",placeholder:"Count",name:"count",value:j.count,onChange:m,required:!0})})}),Object(y.jsx)("div",{className:"field",children:Object(y.jsx)("div",{className:"control",children:Object(y.jsx)("input",{className:"input",type:"text",placeholder:"Width",name:"width",value:j.width,onChange:m,required:!0})})}),Object(y.jsx)("div",{className:"field",children:Object(y.jsx)("div",{className:"control",children:Object(y.jsx)("input",{className:"input",type:"text",placeholder:"Height",name:"height",value:j.height,onChange:m,required:!0})})}),Object(y.jsx)("div",{className:"field",children:Object(y.jsx)("div",{className:"control",children:Object(y.jsx)("input",{className:"input",type:"text",placeholder:"Weight",name:"weight",value:j.weight,onChange:m,required:!0})})})]}),Object(y.jsxs)("footer",{className:"modal-card-foot",children:[Object(y.jsx)("button",{className:"button is-success",type:"submit",children:"Confirm"}),Object(y.jsx)("button",{className:"button",type:"button",onClick:function(){h({imageUrl:"",name:"",count:"",width:"",height:"",weight:""}),s(!1)},children:"Cancel"})]})]})]})})]})},k=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(0),s=Object(d.a)(r,2),o=s[0],j=s[1],b=Object(i.b)(),m=Object(i.c)(v),O=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,b({type:x,payload:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(o);case 2:a(!1),O();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){O()}),[]),Object(y.jsxs)("div",{children:[Object(y.jsx)("h1",{className:"title",children:"Goods"}),Object(y.jsx)("ul",{children:m.map((function(e){return Object(y.jsxs)("li",{children:[Object(y.jsx)("p",{children:"".concat(e.name,"\n")}),Object(y.jsx)("button",{type:"button",className:"button",onClick:function(){return t=e.id,a(!0),void j(t);var t},children:"Delete"})]},e.id)}))}),c&&Object(y.jsxs)("div",{className:"modal is-active",children:[Object(y.jsx)("div",{className:"modal-background"}),Object(y.jsxs)("div",{className:"modal-card",children:[Object(y.jsx)("header",{className:"modal-card-head",children:Object(y.jsx)("p",{className:"modal-card-title",children:"Delete item?"})}),Object(y.jsxs)("footer",{className:"modal-card-foot",children:[Object(y.jsx)("button",{className:"button is-success",type:"submit",onClick:f,children:"Confirm"}),Object(y.jsx)("button",{className:"button",type:"button",onClick:function(){return a(!1)},children:"Cancel"})]})]})]}),Object(y.jsx)(w,{goodId:+m[m.length]})]})},C=(c(26),function(){return Object(y.jsx)("div",{children:Object(y.jsx)(k,{})})}),S=c(12),D={goods:[],good:null},U=Object(S.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(N.a)(Object(N.a)({},e),{},{goods:t.payload});case f:return Object(N.a)(Object(N.a)({},e),{},{good:t.payload});default:return e}}));s.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(i.a,{store:U,children:Object(y.jsx)(C,{})})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.56da191d.chunk.js.map